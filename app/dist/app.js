"use strict";var mjApp=angular.module("mjApp",["ui.router"]);mjApp.config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/"),t.state("home",{url:"/",templateUrl:"templates/home.html"}).state("projects",{"abstract":!0,url:"/projects",template:"<div ui-view></div>"}).state("projects.list",{url:"",templateUrl:"templates/projects.list.html"}).state("projects.detail",{url:"/{projectId:[A-Za-z0-9-]{1,100}}",templateUrl:"templates/projects.detail.html",resolve:{projectDetails:["$stateParams","projects",function(t,e){return e.get(t.projectId)}]},controller:["$scope","$sce","projectDetails",function(t,e,r){t.projectDetails=e.trustAsHtml(r)}]}).state("about",{url:"/about",templateUrl:"templates/about.html"})}]),mjApp.factory("projects",["$http",function(t){var e=function(e){return t.get(r(e)).then(function(t){return t.data})},r=function(t){return"/data/projects/"+t+".html"};return{get:e}}]),mjApp.run(["$rootScope","$state","$window","$location",function(t,e,r,n){t.$navState=e,t.$on("$stateChangeStart",function(){t.isStateChanging=!0}),t.$on("$stateChangeSuccess",function(){t.isStateChanging=!1,document.body.scrollTop=document.documentElement.scrollTop=0,r.ga("send","pageview",{page:n.url()})})}]),mjApp.directive("headerOnscrollResize",["$window",function(t){return{link:function(e,r,n){t.innerWidth>=720&&angular.element(t).bind("scroll",function(){r.toggleClass("header_contents--smaller",this.pageYOffset>200)})}}}]),mjApp.directive("mjEmail",function(){return{replace:!0,transclude:!0,template:"<a ng-transclude></a>",link:function(t,e,r){var n,a=[".","@",":","1","3","a","c","g","i","j","l","m","n","o","t"],o=[11,5,8,10,14,13,2,11,9,13,12,3,3,3,4,1,7,11,5,8,10,0,6,13,11],l="";for(n=0;n<o.length;n++)l+=a[o[n]];e.attr("href",l)}}});